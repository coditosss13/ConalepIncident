{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/miguel-angel/Documentos/GitHub/ConalepIncident/lib/permissions.js"],"sourcesContent":["export const ROLES = {\n  ADMIN: \"Administrador\",\n  DOCENTE: \"Docente\",\n  COORDINADOR: \"Coordinador\",\n}\n\nexport const PERMISSIONS = {\n  // Gestión de usuarios (solo administrador)\n  MANAGE_USERS: [ROLES.ADMIN],\n\n  // Configuración de catálogos (solo administrador)\n  MANAGE_CATALOGS: [ROLES.ADMIN],\n\n  // Configuraciones generales (solo administrador)\n  MANAGE_CONFIG: [ROLES.ADMIN],\n\n  // Ver bitácora (solo administrador)\n  VIEW_BITACORA: [ROLES.ADMIN],\n\n  // Registrar incidencias (docentes solo en sus grupos, coordinador y admin en todos)\n  CREATE_INCIDENT: [ROLES.ADMIN, ROLES.DOCENTE, ROLES.COORDINADOR],\n\n  // Ver incidencias (todos)\n  VIEW_INCIDENTS: [ROLES.ADMIN, ROLES.DOCENTE, ROLES.COORDINADOR],\n\n  // Ver solo incidencias de sus grupos (docentes)\n  VIEW_OWN_INCIDENTS: [ROLES.DOCENTE],\n\n  // Ver todas las incidencias (coordinador y admin)\n  VIEW_ALL_INCIDENTS: [ROLES.ADMIN, ROLES.COORDINADOR],\n\n  // Validar/Finalizar incidencias (coordinador y admin)\n  VALIDATE_INCIDENT: [ROLES.ADMIN, ROLES.COORDINADOR],\n\n  // Aplicar medidas correctivas (coordinador y admin)\n  APPLY_CORRECTIVE_ACTION: [ROLES.ADMIN, ROLES.COORDINADOR],\n\n  // Generar todos los reportes (coordinador y admin)\n  GENERATE_ALL_REPORTS: [ROLES.ADMIN, ROLES.COORDINADOR],\n\n  // Ver reportes de sus alumnos (docentes)\n  VIEW_OWN_REPORTS: [ROLES.DOCENTE],\n\n  // Exportar reportes (coordinador y admin)\n  EXPORT_REPORTS: [ROLES.ADMIN, ROLES.COORDINADOR],\n}\n\nexport function hasPermission(userRole, permission) {\n  if (!PERMISSIONS[permission]) return false\n  return PERMISSIONS[permission].includes(userRole)\n}\n\nexport function getUserRole(user) {\n  // Mapeo de id_rol del backend a nombres de roles\n  const roleMap = {\n    1: ROLES.ADMIN,\n    2: ROLES.DOCENTE,\n    3: ROLES.COORDINADOR,\n  }\n  return roleMap[user?.id_rol] || ROLES.DOCENTE\n}\n\nexport function canManageUsers(userRole) {\n  return hasPermission(userRole, \"MANAGE_USERS\")\n}\n\nexport function canViewAllIncidents(userRole) {\n  return hasPermission(userRole, \"VIEW_ALL_INCIDENTS\")\n}\n\nexport function canValidateIncidents(userRole) {\n  return hasPermission(userRole, \"VALIDATE_INCIDENT\")\n}\n\nexport function canExportReports(userRole) {\n  return hasPermission(userRole, \"EXPORT_REPORTS\")\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAO,MAAM,QAAQ;IACnB,OAAO;IACP,SAAS;IACT,aAAa;AACf;AAEO,MAAM,cAAc;IACzB,2CAA2C;IAC3C,cAAc;QAAC,MAAM,KAAK;KAAC;IAE3B,kDAAkD;IAClD,iBAAiB;QAAC,MAAM,KAAK;KAAC;IAE9B,iDAAiD;IACjD,eAAe;QAAC,MAAM,KAAK;KAAC;IAE5B,oCAAoC;IACpC,eAAe;QAAC,MAAM,KAAK;KAAC;IAE5B,oFAAoF;IACpF,iBAAiB;QAAC,MAAM,KAAK;QAAE,MAAM,OAAO;QAAE,MAAM,WAAW;KAAC;IAEhE,0BAA0B;IAC1B,gBAAgB;QAAC,MAAM,KAAK;QAAE,MAAM,OAAO;QAAE,MAAM,WAAW;KAAC;IAE/D,gDAAgD;IAChD,oBAAoB;QAAC,MAAM,OAAO;KAAC;IAEnC,kDAAkD;IAClD,oBAAoB;QAAC,MAAM,KAAK;QAAE,MAAM,WAAW;KAAC;IAEpD,sDAAsD;IACtD,mBAAmB;QAAC,MAAM,KAAK;QAAE,MAAM,WAAW;KAAC;IAEnD,oDAAoD;IACpD,yBAAyB;QAAC,MAAM,KAAK;QAAE,MAAM,WAAW;KAAC;IAEzD,mDAAmD;IACnD,sBAAsB;QAAC,MAAM,KAAK;QAAE,MAAM,WAAW;KAAC;IAEtD,yCAAyC;IACzC,kBAAkB;QAAC,MAAM,OAAO;KAAC;IAEjC,0CAA0C;IAC1C,gBAAgB;QAAC,MAAM,KAAK;QAAE,MAAM,WAAW;KAAC;AAClD;AAEO,SAAS,cAAc,QAAQ,EAAE,UAAU;IAChD,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,OAAO;IACrC,OAAO,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC;AAC1C;AAEO,SAAS,YAAY,IAAI;IAC9B,iDAAiD;IACjD,MAAM,UAAU;QACd,GAAG,MAAM,KAAK;QACd,GAAG,MAAM,OAAO;QAChB,GAAG,MAAM,WAAW;IACtB;IACA,OAAO,OAAO,CAAC,MAAM,OAAO,IAAI,MAAM,OAAO;AAC/C;AAEO,SAAS,eAAe,QAAQ;IACrC,OAAO,cAAc,UAAU;AACjC;AAEO,SAAS,oBAAoB,QAAQ;IAC1C,OAAO,cAAc,UAAU;AACjC;AAEO,SAAS,qBAAqB,QAAQ;IAC3C,OAAO,cAAc,UAAU;AACjC;AAEO,SAAS,iBAAiB,QAAQ;IACvC,OAAO,cAAc,UAAU;AACjC"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///home/miguel-angel/Documentos/GitHub/ConalepIncident/components/Sidebar.jsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport Image from \"next/image\"\nimport {\n  LayoutDashboard,\n  Settings,\n  FileText,\n  PlusCircle,\n  List,\n  FileBarChart,\n  BarChart3,\n  ChevronDown,\n  ChevronRight,\n  Shield,\n  Users,\n  LogOut,\n} from \"lucide-react\"\nimport { useState, useEffect } from \"react\"\nimport { getUserRole, ROLES } from \"@/lib/permissions\"\n\nexport default function Sidebar({ onNavigate }) {\n  const pathname = usePathname()\n  const [operacionesOpen, setOperacionesOpen] = useState(true)\n  const [userRole, setUserRole] = useState(null)\n\n  useEffect(() => {\n    const userStr = localStorage.getItem(\"user\")\n    if (userStr) {\n      const user = JSON.parse(userStr)\n      setUserRole(getUserRole(user))\n    }\n  }, [])\n\n  const isActive = (path) => pathname === path\n\n  const handleClick = () => {\n    if (onNavigate) onNavigate()\n  }\n\n  return (\n    <aside className=\"w-64 bg-[#0c6857] text-white min-h-screen flex flex-col\">\n      <div className=\"p-6 border-b border-white/10\">\n        <div className=\"flex items-center gap-3\">\n          <Image src=\"/logo.png\" alt=\"CONALEP Logo\" width={40} height={40} className=\"rounded\" />\n          <span className=\"font-bold text-xl\">CONALEP</span>\n        </div>\n      </div>\n\n      <nav className=\"flex-1 py-6 overflow-y-auto\">\n        <Link\n          href=\"/dashboard\"\n          onClick={handleClick}\n          className={`flex items-center gap-3 px-6 py-3 hover:bg-white/10 transition-colors ${\n            isActive(\"/dashboard\") ? \"bg-white/20 border-l-4 border-white\" : \"\"\n          }`}\n        >\n          <LayoutDashboard className=\"h-5 w-5\" />\n          <span>Dashboard</span>\n        </Link>\n\n        {userRole === ROLES.ADMIN && (\n          <>\n            <Link\n              href=\"/dashboard/usuarios\"\n              onClick={handleClick}\n              className={`flex items-center gap-3 px-6 py-3 hover:bg-white/10 transition-colors ${\n                isActive(\"/dashboard/usuarios\") ? \"bg-white/20 border-l-4 border-white\" : \"\"\n              }`}\n            >\n              <Users className=\"h-5 w-5\" />\n              <span>Gestión de Usuarios</span>\n            </Link>\n\n            <Link\n              href=\"/dashboard/configuracion\"\n              onClick={handleClick}\n              className={`flex items-center gap-3 px-6 py-3 hover:bg-white/10 transition-colors ${\n                isActive(\"/dashboard/configuracion\") ? \"bg-white/20 border-l-4 border-white\" : \"\"\n              }`}\n            >\n              <Settings className=\"h-5 w-5\" />\n              <span>Configuración</span>\n            </Link>\n          </>\n        )}\n\n        <div>\n          <button\n            onClick={() => setOperacionesOpen(!operacionesOpen)}\n            className=\"flex items-center justify-between w-full px-6 py-3 hover:bg-white/10 transition-colors\"\n          >\n            <div className=\"flex items-center gap-3\">\n              <FileText className=\"h-5 w-5\" />\n              <span>Operaciones</span>\n            </div>\n            {operacionesOpen ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\n          </button>\n\n          {operacionesOpen && (\n            <div className=\"bg-white/5\">\n              <Link\n                href=\"/dashboard/incidencias/nueva\"\n                onClick={handleClick}\n                className={`flex items-center gap-3 px-12 py-2.5 hover:bg-white/10 transition-colors ${\n                  isActive(\"/dashboard/incidencias/nueva\") ? \"bg-white/20 border-l-4 border-white\" : \"\"\n                }`}\n              >\n                <PlusCircle className=\"h-4 w-4\" />\n                <span className=\"text-sm\">Nueva Incidencia</span>\n              </Link>\n\n              <Link\n                href=\"/dashboard/incidencias\"\n                onClick={handleClick}\n                className={`flex items-center gap-3 px-12 py-2.5 hover:bg-white/10 transition-colors ${\n                  isActive(\"/dashboard/incidencias\") ? \"bg-white/20 border-l-4 border-white\" : \"\"\n                }`}\n              >\n                <List className=\"h-4 w-4\" />\n                <span className=\"text-sm\">Incidencias</span>\n              </Link>\n\n              <Link\n                href=\"/dashboard/reporte-incidencias\"\n                onClick={handleClick}\n                className={`flex items-center gap-3 px-12 py-2.5 hover:bg-white/10 transition-colors ${\n                  isActive(\"/dashboard/reporte-incidencias\") ? \"bg-white/20 border-l-4 border-white\" : \"\"\n                }`}\n              >\n                <FileBarChart className=\"h-4 w-4\" />\n                <span className=\"text-sm\">Reporte Incidencias</span>\n              </Link>\n            </div>\n          )}\n        </div>\n\n        {(userRole === ROLES.ADMIN || userRole === ROLES.COORDINADOR) && (\n          <Link\n            href=\"/dashboard/reportes\"\n            onClick={handleClick}\n            className={`flex items-center gap-3 px-6 py-3 hover:bg-white/10 transition-colors ${\n              isActive(\"/dashboard/reportes\") ? \"bg-white/20 border-l-4 border-white\" : \"\"\n            }`}\n          >\n            <BarChart3 className=\"h-5 w-5\" />\n            <span>Reportes Generales</span>\n          </Link>\n        )}\n\n        {userRole === ROLES.ADMIN && (\n          <Link\n            href=\"/dashboard/bitacora\"\n            onClick={handleClick}\n            className={`flex items-center gap-3 px-6 py-3 hover:bg-white/10 transition-colors ${\n              isActive(\"/dashboard/bitacora\") ? \"bg-white/20 border-l-4 border-white\" : \"\"\n            }`}\n          >\n            <Shield className=\"h-5 w-5\" />\n            <span>Bitácora</span>\n          </Link>\n        )}\n      </nav>\n\n      <div className=\"p-4 border-t border-white/10\">\n        <button\n          onClick={() => {\n            localStorage.removeItem(\"token\")\n            localStorage.removeItem(\"user\")\n            window.location.href = \"/login\"\n          }}\n          className=\"flex items-center gap-3 px-4 py-3 w-full hover:bg-white/10 transition-colors rounded-lg\"\n        >\n          <LogOut className=\"h-5 w-5\" />\n          <span>Cerrar Sesión</span>\n        </button>\n      </div>\n    </aside>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 527, "column": 0}, "map": {"version":3,"sources":["file:///home/miguel-angel/Documentos/GitHub/ConalepIncident/lib/api.js"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:4000\"\n\n// Auth API\nexport async function login(usuario, password) {\n  const res = await fetch(`${API_URL}/api/auth/login`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ usuario, password }),\n  })\n\n  if (!res.ok) {\n    const error = await res.json()\n    throw new Error(error.message || \"Error en login\")\n  }\n\n  return res.json()\n}\n\nexport async function registerDocente(data) {\n  const res = await fetch(`${API_URL}/api/auth/register-docente`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  })\n\n  if (!res.ok) {\n    const error = await res.json()\n    throw new Error(error.error || \"Error en registro\")\n  }\n\n  return res.json()\n}\n\n// Incidencias API\nexport async function getIncidencias(token) {\n  const res = await fetch(`${API_URL}/api/incidencias`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  })\n\n  if (!res.ok) throw new Error(\"Error al obtener incidencias\")\n\n  const data = await res.json()\n  return data.data || []\n}\n\nexport async function getIncidenciaById(id, token) {\n  const res = await fetch(`${API_URL}/api/incidencias/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  })\n\n  if (!res.ok) throw new Error(\"Error al obtener incidencia\")\n\n  const data = await res.json()\n  return data.data\n}\n\nexport async function createIncidencia(formData, token) {\n  const res = await fetch(`${API_URL}/api/incidencias`, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n    body: formData,\n  })\n\n  if (!res.ok) {\n    const error = await res.json()\n    throw new Error(error.error || \"Error al crear incidencia\")\n  }\n\n  return res.json()\n}\n\n// Helper para guardar token\nexport function saveToken(token) {\n  if (typeof window !== \"undefined\") {\n    localStorage.setItem(\"token\", token)\n  }\n}\n\nexport function getToken() {\n  if (typeof window !== \"undefined\") {\n    return localStorage.getItem(\"token\")\n  }\n  return null\n}\n\nexport function removeToken() {\n  if (typeof window !== \"undefined\") {\n    localStorage.removeItem(\"token\")\n    localStorage.removeItem(\"userRol\")\n    localStorage.removeItem(\"userName\")\n  }\n}\n\nexport function saveUserData(rol, nombre) {\n  if (typeof window !== \"undefined\") {\n    localStorage.setItem(\"userRol\", rol.toString())\n    localStorage.setItem(\"userName\", nombre)\n  }\n}\n\nexport function getUserData() {\n  if (typeof window !== \"undefined\") {\n    return {\n      rol: localStorage.getItem(\"userRol\"),\n      nombre: localStorage.getItem(\"userName\"),\n    }\n  }\n  return { rol: null, nombre: null }\n}\n\n// Función para verificar permisos según rol\nexport function hasPermission(requiredRole) {\n  if (typeof window !== \"undefined\") {\n    const userRole = localStorage.getItem(\"userRol\")\n    // Administrador General (rol 1) tiene todos los permisos\n    if (userRole === \"1\") return true\n    // Docente (rol 2) puede registrar incidencias\n    if (userRole === \"2\" && requiredRole === \"registro\") return true\n    // Prefectura/Control Escolar (rol 3) puede validar y generar reportes\n    if (userRole === \"3\" && (requiredRole === \"validacion\" || requiredRole === \"reportes\")) return true\n    return false\n  }\n  return false\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,UAAU,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAG5C,eAAe,MAAM,OAAO,EAAE,QAAQ;IAC3C,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,eAAe,CAAC,EAAE;QACnD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;YAAS;QAAS;IAC3C;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ,MAAM,IAAI,IAAI;QAC5B,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;IAEA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,gBAAgB,IAAI;IACxC,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,0BAA0B,CAAC,EAAE;QAC9D,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ,MAAM,IAAI,IAAI;QAC5B,MAAM,IAAI,MAAM,MAAM,KAAK,IAAI;IACjC;IAEA,OAAO,IAAI,IAAI;AACjB;AAGO,eAAe,eAAe,KAAK;IACxC,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,gBAAgB,CAAC,EAAE;QACpD,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;IACF;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAE7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI,IAAI,EAAE;AACxB;AAEO,eAAe,kBAAkB,EAAE,EAAE,KAAK;IAC/C,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,iBAAiB,EAAE,IAAI,EAAE;QAC1D,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;IACF;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAE7B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe,iBAAiB,QAAQ,EAAE,KAAK;IACpD,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,gBAAgB,CAAC,EAAE;QACpD,QAAQ;QACR,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;QACA,MAAM;IACR;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ,MAAM,IAAI,IAAI;QAC5B,MAAM,IAAI,MAAM,MAAM,KAAK,IAAI;IACjC;IAEA,OAAO,IAAI,IAAI;AACjB;AAGO,SAAS,UAAU,KAAK;IAC7B;;AAGF;AAEO,SAAS;IACd;;IAGA,OAAO;AACT;AAEO,SAAS;IACd;;AAKF;AAEO,SAAS,aAAa,GAAG,EAAE,MAAM;IACtC;;AAIF;AAEO,SAAS;IACd;;IAMA,OAAO;QAAE,KAAK;QAAM,QAAQ;IAAK;AACnC;AAGO,SAAS,cAAc,YAAY;IACxC;;IAUA,OAAO;AACT"}},
    {"offset": {"line": 651, "column": 0}, "map": {"version":3,"sources":["file:///home/miguel-angel/Documentos/GitHub/ConalepIncident/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,iNAAO,EAAC,IAAA,wLAAI,EAAC;AACtB"}},
    {"offset": {"line": 666, "column": 0}, "map": {"version":3,"sources":["file:///home/miguel-angel/Documentos/GitHub/ConalepIncident/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline:\n          'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button'\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = 'Button'\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,kNAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,8PAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mNAAI,GAAG;IAC9B,qBACE,yRAAC;QACC,WAAW,IAAA,6JAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 726, "column": 0}, "map": {"version":3,"sources":["file:///home/miguel-angel/Documentos/GitHub/ConalepIncident/app/dashboard/layout.jsx"],"sourcesContent":["\"use client\"\n\nimport Sidebar from \"@/components/Sidebar\"\nimport { useRouter, usePathname } from \"next/navigation\"\nimport { useEffect, useState } from \"react\"\nimport { getToken, getUserData } from \"@/lib/api\"\nimport { Button } from \"@/components/ui/button\"\nimport { LogOut, Menu, X, ArrowLeft } from \"lucide-react\"\nimport Link from \"next/link\"\n\nexport default function DashboardLayout({ children }) {\n  const router = useRouter()\n  const pathname = usePathname()\n  const [userData, setUserData] = useState(null)\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)\n\n  useEffect(() => {\n    const token = getToken()\n    if (!token) {\n      router.push(\"/login\")\n      return\n    }\n\n    const user = getUserData()\n    setUserData(user)\n  }, [router])\n\n  const handleLogout = () => {\n    router.push(\"/login\")\n  }\n\n  const isDashboardHome = pathname === \"/dashboard\"\n\n  const getPageTitle = () => {\n    if (pathname === \"/dashboard\") return \"Sistema de Incidencias\"\n    if (pathname === \"/dashboard/incidencias/nueva\") return \"Nueva Incidencia\"\n    if (pathname === \"/dashboard/incidencias\") return \"Operaciones / Incidencias\"\n    if (pathname === \"/dashboard/reportes\") return \"Reportes\"\n    if (pathname === \"/dashboard/alumnos\") return \"Alumnos\"\n    if (pathname.includes(\"/dashboard/alumnos/\")) return \"Detalle del Alumno\"\n    if (pathname.includes(\"/dashboard/incidencias/\")) return \"Detalle de Incidencia\"\n    return \"Sistema de Incidencias\"\n  }\n\n  const showBackButton = pathname !== \"/dashboard\" && !pathname.endsWith(\"/incidencias\")\n\n  if (!userData) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <p className=\"text-lg text-gray-600\">Cargando...</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-50\">\n      <div className=\"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col\">\n        <Sidebar />\n      </div>\n\n      {/* Sidebar mobile */}\n      {mobileMenuOpen && (\n        <div className=\"fixed inset-0 z-50 lg:hidden\">\n          <div className=\"fixed inset-0 bg-black/50\" onClick={() => setMobileMenuOpen(false)} />\n          <div className=\"fixed left-0 top-0 bottom-0 w-64 bg-white\">\n            <Sidebar onNavigate={() => setMobileMenuOpen(false)} />\n          </div>\n        </div>\n      )}\n\n      <div className=\"flex-1 flex flex-col lg:pl-64 w-full\">\n        <header className=\"bg-[#0c6857] text-white px-4 lg:px-6 py-4 shadow-md\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n                className=\"lg:hidden text-white hover:bg-white/10\"\n              >\n                {mobileMenuOpen ? <X className=\"h-6 w-6\" /> : <Menu className=\"h-6 w-6\" />}\n              </Button>\n\n              {showBackButton && (\n                <Link href=\"/dashboard/incidencias\">\n                  <Button variant=\"ghost\" size=\"icon\" className=\"text-white hover:bg-white/10\">\n                    <ArrowLeft className=\"h-5 w-5\" />\n                  </Button>\n                </Link>\n              )}\n\n              <div>\n                <h1 className=\"text-lg lg:text-xl font-bold\">{getPageTitle()}</h1>\n                {isDashboardHome && (\n                  <p className=\"text-sm text-white/90\">\n                    Bienvenido, {userData.nombre} {userData.primerapell || \"\"}\n                  </p>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <span className=\"hidden sm:inline text-sm text-white/90\">\n                {userData.nombre} {userData.primerapell || \"\"}\n              </span>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleLogout}\n                className=\"text-white hover:bg-white/10 flex items-center gap-2\"\n              >\n                <LogOut className=\"h-4 w-4\" />\n                <span className=\"hidden sm:inline\">Cerrar Sesión</span>\n              </Button>\n            </div>\n          </div>\n        </header>\n\n        <main className=\"flex-1 p-4 lg:p-6\">{children}</main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AARA;;;;;;;;;AAUe,SAAS,gBAAgB,EAAE,QAAQ,EAAE;IAClD,MAAM,SAAS,IAAA,0LAAS;IACxB,MAAM,WAAW,IAAA,4LAAW;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,4PAAQ,EAAC;IACzC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,4PAAQ,EAAC;IAErD,IAAA,6PAAS,EAAC;QACR,MAAM,QAAQ,IAAA,iKAAQ;QACtB,IAAI,CAAC,OAAO;YACV,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,MAAM,OAAO,IAAA,oKAAW;QACxB,YAAY;IACd,GAAG;QAAC;KAAO;IAEX,MAAM,eAAe;QACnB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,kBAAkB,aAAa;IAErC,MAAM,eAAe;QACnB,IAAI,aAAa,cAAc,OAAO;QACtC,IAAI,aAAa,gCAAgC,OAAO;QACxD,IAAI,aAAa,0BAA0B,OAAO;QAClD,IAAI,aAAa,uBAAuB,OAAO;QAC/C,IAAI,aAAa,sBAAsB,OAAO;QAC9C,IAAI,SAAS,QAAQ,CAAC,wBAAwB,OAAO;QACrD,IAAI,SAAS,QAAQ,CAAC,4BAA4B,OAAO;QACzD,OAAO;IACT;IAEA,MAAM,iBAAiB,aAAa,gBAAgB,CAAC,SAAS,QAAQ,CAAC;IAEvE,IAAI,CAAC,UAAU;QACb,qBACE,yRAAC;YAAI,WAAU;sBACb,cAAA,yRAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;IAG3C;IAEA,qBACE,yRAAC;QAAI,WAAU;;0BACb,yRAAC;gBAAI,WAAU;0BACb,cAAA,yRAAC,4KAAO;;;;;;;;;;YAIT,gCACC,yRAAC;gBAAI,WAAU;;kCACb,yRAAC;wBAAI,WAAU;wBAA4B,SAAS,IAAM,kBAAkB;;;;;;kCAC5E,yRAAC;wBAAI,WAAU;kCACb,cAAA,yRAAC,4KAAO;4BAAC,YAAY,IAAM,kBAAkB;;;;;;;;;;;;;;;;;0BAKnD,yRAAC;gBAAI,WAAU;;kCACb,yRAAC;wBAAO,WAAU;kCAChB,cAAA,yRAAC;4BAAI,WAAU;;8CACb,yRAAC;oCAAI,WAAU;;sDACb,yRAAC,gLAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS,IAAM,kBAAkB,CAAC;4CAClC,WAAU;sDAET,+BAAiB,yRAAC,4OAAC;gDAAC,WAAU;;;;;qEAAe,yRAAC,qPAAI;gDAAC,WAAU;;;;;;;;;;;wCAG/D,gCACC,yRAAC,kNAAI;4CAAC,MAAK;sDACT,cAAA,yRAAC,gLAAM;gDAAC,SAAQ;gDAAQ,MAAK;gDAAO,WAAU;0DAC5C,cAAA,yRAAC,wQAAS;oDAAC,WAAU;;;;;;;;;;;;;;;;sDAK3B,yRAAC;;8DACC,yRAAC;oDAAG,WAAU;8DAAgC;;;;;;gDAC7C,iCACC,yRAAC;oDAAE,WAAU;;wDAAwB;wDACtB,SAAS,MAAM;wDAAC;wDAAE,SAAS,WAAW,IAAI;;;;;;;;;;;;;;;;;;;8CAM/D,yRAAC;oCAAI,WAAU;;sDACb,yRAAC;4CAAK,WAAU;;gDACb,SAAS,MAAM;gDAAC;gDAAE,SAAS,WAAW,IAAI;;;;;;;sDAE7C,yRAAC,gLAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS;4CACT,WAAU;;8DAEV,yRAAC,+PAAM;oDAAC,WAAU;;;;;;8DAClB,yRAAC;oDAAK,WAAU;8DAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAM3C,yRAAC;wBAAK,WAAU;kCAAqB;;;;;;;;;;;;;;;;;;AAI7C"}}]
}